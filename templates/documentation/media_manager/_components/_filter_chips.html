{% comment %}
Reusable filter chips component.

Parameters:
- active_filters: Dictionary of active filters
- resource_type: Type of resource (for filter removal links)
{% endcomment %}
{% load custom_filters %}

{% if active_filters %}
    <div class="flex flex-wrap items-center gap-2 mb-4">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Active filters:</span>
        {% for key, value in active_filters.items %}
            {% if value %}
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200">
                    {{ key|title|replace:"_, " }}: {{ value }}
                    <a href="?{% for k, v in active_filters.items %}{% if k != key %}{{ k }}={{ v }}&{% endif %}{% endfor %}" 
                       class="ml-2 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"
                       aria-label="Remove {{ key }} filter">
                        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </span>
            {% endif %}
        {% endfor %}
        {% if active_filters %}
            <a href="?" class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium">
                Clear all
            </a>
        {% endif %}
    </div>
{% endif %}
